% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/algos.R
\name{expand_net}
\alias{expand_net}
\title{Expand network through iterative growth}
\usage{
expand_net(
  net,
  keywords,
  token,
  refresh_tok,
  save_net = FALSE,
  file_name,
  threshold,
  max_iterations,
  sample_size = Inf
)
}
\arguments{
\item{net}{Tibble. Initial network with follow relationships, must contain:
\describe{
\item{actor_handle}{Character. User who is following}
\item{follows_handle}{Character. User being followed}
}}

\item{keywords}{Character vector. Keywords to search for in user profile
descriptions to determine network membership eligibility}

\item{token}{Character. Authentication token from \code{\link{get_token}}}

\item{refresh_tok}{Character. Refresh token from \code{\link{get_token}} for
long-running operations}

\item{save_net}{Logical. Should the network be saved incrementally during expansion
to prevent data loss? (default FALSE)}

\item{file_name}{Character. File path for incremental saves. If not provided,
defaults to 'dev/net/bignet_TIMESTAMP.rds'}

\item{threshold}{Numeric. Inclusion threshold for new users:
\describe{
\item{>= 1}{Minimum number of existing network members who must follow a prospect}
\item{< 1}{Fraction of network members who must follow a prospect}
}}

\item{max_iterations}{Integer. Maximum number of expansion iterations (default 50)}

\item{sample_size}{Integer. Maximum prospects to consider per iteration.
Use \code{Inf} for no limit (default), smaller values for testing}
}
\value{
A list containing the expanded network results:
\describe{
\item{net}{Tibble. Expanded network with all follow relationships discovered}
\item{token}{Character. Updated access token (may have been refreshed)}
\item{refresh_tok}{Character. Updated refresh token}
\item{profiles}{Tibble. Profile information for all network members}
\item{iterations}{Integer. Number of iterations completed}
}
}
\description{
Expands an initial network by iteratively finding new users who are followed
by many existing network members and match specified keywords. This is the core
algorithm for growing networks from a seed set of users.
}
\examples{
\dontrun{
# Start with an initial network
auth <- get_token("your.handle.bsky.social", "your-app-password")
token <- auth$accessJwt
refresh_tok <- auth$refreshJwt

# Create initial network
initial <- init_net("example.scientist.bsky.social",
                    c("research", "science"), token)

# Expand the network - conservative approach
expanded <- expand_net(
  net = initial,
  keywords = c("research", "science", "academic", "PhD"),
  token = token,
  refresh_tok = refresh_tok,
  threshold = 5,        # Need 5+ followers from existing network
  max_iterations = 10,  # Limit iterations for testing
  save_net = TRUE       # Save progress incrementally
)

print(paste("Network grew from", nrow(initial), "to",
            nrow(expanded$net), "connections"))

# More aggressive expansion with lower threshold
large_expansion <- expand_net(
  net = expanded$net,
  keywords = c("research", "science", "academic"),
  token = expanded$token,
  refresh_tok = expanded$refresh_tok,
  threshold = 0.1,      # 10\% of network must follow prospect
  max_iterations = 25
)
}

}
\seealso{
\code{\link{init_net}}, \code{\link{build_network}},
\code{\link{trim_net}}

Other network-building: 
\code{\link{build_network}()},
\code{\link{init_net}()},
\code{\link{trim_net}()}
}
\concept{network-building}
